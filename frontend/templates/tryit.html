{% extends "layout.html" %}

{% block title %}About{% endblock %}

{% block content %}
<div style="margin-top: 20vh; position: fixed;">
    <form id="tryit-form" method="POST">
        <div style="display: flex; align-items: center;">
            <label for="magnitude" style="width: 200px;">Magnitude:</label>
            <input type="text" id="magnitude" name="magnitude">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="spectral_type" style="width: 200px;">Spectral Type:</label>
            <input type="text" id="spectral_type" name="spectral_type">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="distance" style="width: 200px;">Distance:</label>
            <input type="text" id="distance" name="distance">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="OrbSM" style="width: 200px;">Orbital Semi-Major Axis (OrbSM):</label>
            <input type="text" id="OrbSM" name="OrbSM">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="planetSize" style="width: 200px;">Planet Size:</label>
            <input type="text" id="planetSize" name="planetSize">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="planetEccentricity" style="width: 200px;">Planet Eccentricity:</label>
            <input type="text" id="planetEccentricity" name="planetEccentricity">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="HZ_weight" style="width: 200px;">Habitable Zone Weight (HZ_weight):</label>
            <input type="text" id="HZ_weight" name="HZ_weight">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="size_weight" style="width: 200px;">Size Weight:</label>
            <input type="text" id="size_weight" name="size_weight">
        </div><br>

        <div style="display: flex; align-items: center;">
            <label for="eccentricity_weight" style="width: 200px;">Eccentricity Weight:</label>
            <input type="text" id="eccentricity_weight" name="eccentricity_weight">
        </div><br>

        <input type="submit" value="Submit">
    </form>

    <div style="bottom: 80vh; margin-left: 60vw; display: flex; align-items: center;">
        <label for="result" style="width: 200px;">Result:</label>
        <span id="result" name="result" style="margin-left: 10px;"></span>
    </div>

    <script>
        document.getElementById('tryit-form').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the default form submission

            const formData = new FormData(this);
            fetch('/submit', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    document.getElementById('result').textContent = data.habscore.habitability_score;
                })
                .catch(error => console.error('Error:', error));
        });
    </script>
</div>
{% endblock %}